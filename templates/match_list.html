{% extends "base.html" %}

{% block title %}All Matches - CS2 Match History{% endblock %}

{% block content %}
<div class="match-list-page">
    <h2>ðŸ“‹ All Matches</h2>

    {% if matches %}
    <table class="match-table">
        <thead>
            <tr>
                <th>#</th>
                <th>Date</th>
                <th>Kills</th>
                <th>Deaths</th>
                <th>K/D</th>
                <th>Rounds</th>
                <th>Duration</th>
                <th>Highlights</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for match in matches %}
            <tr>
                <td>{{ match.id }}</td>
                <td>{{ match.match_date }}</td>
                <td>{{ match.total_kills }}</td>
                <td>{{ match.total_deaths or 0 }}</td>
                <td>
                    {% if match.total_deaths and match.total_deaths > 0 %}
                    {{ "%.2f"|format(match.total_kills / match.total_deaths) }}
                    {% else %}
                    {{ match.total_kills }}.00
                    {% endif %}
                </td>
                <td>{{ match.total_rounds }}</td>
                <td>{{ "%.1f"|format(match.duration_seconds / 60) }} min</td>
                <td>{{ match.highlights_generated }}</td>
                <td>
                    <a href="{{ url_for('match_detail', match_id=match.id) }}" class="btn btn-small">View</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="empty-state">No matches found. Start playing CS2 to build your match history!</p>
    {% endif %}
</div>
{% endblock %}