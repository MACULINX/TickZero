<<<<<<< Updated upstream
"use strict";const CONFIG={githubRepo:"MACULINX/TickZero",githubApiUrl:"https://api.github.com/repos/MACULINX/TickZero"};class Navigation{constructor(){this.navbar=document.querySelector(".navbar"),this.navLinks=document.querySelector(".nav-links"),this.mobileToggle=document.querySelector(".mobile-menu-toggle"),this.init()}init(){window.addEventListener("scroll",(()=>this.handleScroll())),this.mobileToggle&&this.mobileToggle.addEventListener("click",(()=>this.toggleMobileMenu())),this.navLinks.querySelectorAll("a").forEach((t=>{t.addEventListener("click",(()=>{window.innerWidth<=768&&this.closeMobileMenu()}))})),document.querySelectorAll('a[href^="#"]').forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("href");if("#"!==n&&""!==n){e.preventDefault();const t=document.querySelector(n);if(t){const e=70,n=t.offsetTop-e;window.scrollTo({top:n,behavior:"smooth"})}}}))}))}handleScroll(){window.scrollY>50?this.navbar.classList.add("scrolled"):this.navbar.classList.remove("scrolled")}toggleMobileMenu(){this.navLinks.classList.toggle("active"),this.mobileToggle.classList.toggle("active")}closeMobileMenu(){this.navLinks.classList.remove("active"),this.mobileToggle.classList.remove("active")}}class GitHubStats{constructor(){this.cloneCountEl=document.getElementById("clone-count")||document.getElementById("download-count"),this.starCountEl=document.getElementById("star-count"),this.init()}async init(){try{await this.fetchStats()}catch(t){console.error("Error fetching stats:",t),this.setFallbackValues()}}async fetchStats(){try{const t=await fetch(`assets/data/stats.json?t=${(new Date).getTime()}`);if(!t.ok)throw new Error("Failed to fetch stats data");const e=await t.json();if("number"!=typeof e.clones||"number"!=typeof e.stars)throw new Error("Invalid stats data format");this.starCountEl&&this.updateStat(this.starCountEl,e.stars),this.cloneCountEl&&this.updateStat(this.cloneCountEl,e.clones)}catch(t){console.error("Error in fetchStats:",t),this.setFallbackValues()}}updateStat(t,e){if(!t)return;const n=this.formatNumber(e);this.animateNumber(t,0,e,1500,n)}animateNumber(t,e,n,o,i){const a=performance.now(),r=s=>{const l=s-a,c=Math.min(l/o,1),d=1-Math.pow(1-c,3),u=Math.floor(e+(n-e)*d);t.textContent=this.formatNumber(u),c<1?requestAnimationFrame(r):t.textContent=i||this.formatNumber(n)};requestAnimationFrame(r)}formatNumber(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}setFallbackValues(){this.starCountEl&&(this.starCountEl.textContent="-"),this.cloneCountEl&&(this.cloneCountEl.textContent="-")}}class FAQ{constructor(){this.faqItems=document.querySelectorAll(".faq-item"),this.init()}init(){this.faqItems.forEach((t=>{t.classList.add("active");t.querySelector(".faq-question").addEventListener("click",(()=>this.toggleItem(t)))}))}toggleItem(t){t.classList.toggle("active")}}class CopyButtons{constructor(){this.copyBtns=document.querySelectorAll(".copy-btn"),this.init()}init(){this.copyBtns.forEach((t=>{t.addEventListener("click",(()=>this.copyToClipboard(t)))}))}async copyToClipboard(t){const e=t.getAttribute("data-clipboard");try{await navigator.clipboard.writeText(e),this.showCopySuccess(t)}catch(n){console.error("Failed to copy:",n),this.fallbackCopy(e,t)}}fallbackCopy(t,e){const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{document.execCommand("copy"),this.showCopySuccess(e)}catch(t){console.error("Fallback copy failed:",t)}document.body.removeChild(n)}showCopySuccess(t){const e=t.innerHTML;t.classList.add("copied"),t.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>',setTimeout((()=>{t.classList.remove("copied"),t.innerHTML=e}),2e3)}}class ScrollReveal{constructor(){this.revealElements=document.querySelectorAll(".scroll-reveal"),this.init()}init(){[".feature-card",".step",".timeline-item",".faq-item"].forEach((t=>{document.querySelectorAll(t).forEach((t=>{t.classList.add("scroll-reveal")}))})),this.revealElements=document.querySelectorAll(".scroll-reveal"),this.checkVisibility();let t=!1;window.addEventListener("scroll",(()=>{t||(window.requestAnimationFrame((()=>{this.checkVisibility(),t=!1})),t=!0)}))}checkVisibility(){const t=window.innerHeight;this.revealElements.forEach((e=>{e.getBoundingClientRect().top<t-150&&e.classList.add("active")}))}}class DownloadTracker{constructor(){this.downloadBtns=document.querySelectorAll(".download-btn"),this.init()}init(){this.downloadBtns.forEach((t=>{t.addEventListener("click",(e=>{this.trackDownload(t.href)}))}))}trackDownload(t){console.log("Download initiated:",t),"undefined"!=typeof gtag&&gtag("event","download",{event_category:"engagement",event_label:t})}}class PerformanceMonitor{constructor(){this.init()}init(){window.addEventListener("load",(()=>{if("performance"in window){const t=window.performance.timing,e=t.loadEventEnd-t.navigationStart;console.log(`Page loaded in ${e}ms`)}}))}}class ThemeManager{constructor(){this.currentTheme=localStorage.getItem("theme")||"light",this.init()}init(){document.documentElement.setAttribute("data-theme",this.currentTheme)}toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",document.documentElement.setAttribute("data-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}class LoadingManager{constructor(){this.init()}init(){window.addEventListener("load",(()=>{document.body.classList.add("loaded")}))}}class Analytics{static trackEvent(t,e,n){"undefined"!=typeof gtag&&gtag("event",e,{event_category:t,event_label:n})}static trackPageView(t){"undefined"!=typeof gtag&&gtag("config","GA_MEASUREMENT_ID",{page_path:t})}}class ErrorHandler{constructor(){this.init()}init(){window.addEventListener("error",(t=>{console.error("Global error:",t.error)})),window.addEventListener("unhandledrejection",(t=>{console.error("Unhandled promise rejection:",t.reason)}))}}const Utils={debounce(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),t(...o)}),e)}},throttle(t,e){let n;return function(...o){n||(t.apply(this,o),n=!0,setTimeout((()=>n=!1),e))}},isInViewport(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},getScrollPercentage:()=>(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100};class LanguageSelector{constructor(){this.langBtn=document.querySelector(".lang-btn"),this.langDropdown=document.querySelector(".lang-dropdown"),this.currentLang=this.detectLanguage(),this.init()}init(){if(this.applyStoredLanguage(),this.langDropdown){this.langDropdown.querySelectorAll("a").forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("href"),o=this.getLangFromHref(n);o&&localStorage.setItem("preferredLanguage",o)}))}))}}detectLanguage(){const t=window.location.pathname.match(/index\.([a-z]{2})\.html/);return t?t[1]:"en"}getLangFromHref(t){const e=t.match(/index\.([a-z]{2})\.html/);return e?e[1]:"index.html"===t?"en":null}applyStoredLanguage(){if(this.isBot())return;const t=(navigator.language||navigator.userLanguage).split("-")[0];if(this.isFirstVisit()){["en","it","es","fr","de","ru","zh"].includes(t)&&t!==this.currentLang?(localStorage.setItem("preferredLanguage",t),localStorage.setItem("languageDetected","true"),this.redirectToLanguage(t)):(localStorage.setItem("languageDetected","true"),localStorage.setItem("preferredLanguage",this.currentLang))}else localStorage.setItem("preferredLanguage",this.currentLang)}redirectToLanguage(t){const e="en"===t?"index.html":`index.${t}.html`;window.location.pathname.split("/").pop()!==e&&(window.location.href=e)}isFirstVisit(){return!localStorage.getItem("languageDetected")}isBot(){return new RegExp("(googlebot/|bot|crawler|spider|robot|crawling)","i").test(navigator.userAgent)}}class App{constructor(){this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.initializeComponents())):this.initializeComponents()}initializeComponents(){console.log("Initializing TickZero Landing Page...");try{new Navigation,new FAQ,new CopyButtons,new ScrollReveal,new DownloadTracker,new PerformanceMonitor,new ThemeManager,new LoadingManager,new ErrorHandler,new LanguageSelector,new GitHubStats,console.log("✅ All components initialized successfully")}catch(t){console.error("Error initializing components:",t)}}}new App,"undefined"!=typeof module&&module.exports&&(module.exports={App:App,Utils:Utils,Analytics:Analytics});
=======
"use strict";const CONFIG={githubRepo:"MACULINX/TickZero",githubApiUrl:"https://api.github.com/repos/MACULINX/TickZero",};class Navigation{constructor(){this.navbar=document.querySelector(".navbar");this.navLinks=document.querySelector(".nav-links");this.mobileToggle=document.querySelector(".mobile-menu-toggle");this.init();}
init(){window.addEventListener("scroll",()=>this.handleScroll());if(this.mobileToggle){this.mobileToggle.addEventListener("click",()=>this.toggleMobileMenu(),);}
this.navLinks.querySelectorAll("a").forEach((link)=>{link.addEventListener("click",()=>{if(window.innerWidth<=768){this.closeMobileMenu();}});});document.querySelectorAll('a[href^="#"]').forEach((anchor)=>{anchor.addEventListener("click",(e)=>{const href=anchor.getAttribute("href");if(href!=="#"&&href!==""){e.preventDefault();const target=document.querySelector(href);if(target){const offset=70;const targetPosition=target.offsetTop-offset;window.scrollTo({top:targetPosition,behavior:"smooth",});}}});});}
handleScroll(){if(window.scrollY>50){this.navbar.classList.add("scrolled");}else{this.navbar.classList.remove("scrolled");}}
toggleMobileMenu(){this.navLinks.classList.toggle("active");this.mobileToggle.classList.toggle("active");}
closeMobileMenu(){this.navLinks.classList.remove("active");this.mobileToggle.classList.remove("active");}}
class GitHubStats{constructor(){this.cloneCountEl=document.getElementById("clone-count")||document.getElementById("download-count");this.starCountEl=document.getElementById("star-count");this.init();}
async init(){try{await this.fetchStats();}catch(error){console.error("Error fetching stats:",error);this.setFallbackValues();}}
async fetchStats(){try{const clonesResponse=await fetch(`https://maculinx.altervista.org/github/tickzero/clones_public.json?t=${new Date().getTime()}`,);let clones=0;if(clonesResponse.ok){const clonesData=await clonesResponse.json();clones=clonesData.count||0;}
const starsResponse=await fetch(CONFIG.githubApiUrl);let stars=0;if(starsResponse.ok){const starsData=await starsResponse.json();stars=starsData.stargazers_count||0;}
if(this.starCountEl){this.updateStat(this.starCountEl,stars);}
if(this.cloneCountEl){this.updateStat(this.cloneCountEl,clones);}}catch(error){console.error("Error in fetchStats:",error);this.setFallbackValues();}}
updateStat(element,value){if(!element)return;const formattedValue=this.formatNumber(value);this.animateNumber(element,0,value,1500,formattedValue);}
animateNumber(element,start,end,duration,formattedEnd){const startTime=performance.now();const animate=(currentTime)=>{const elapsed=currentTime-startTime;const progress=Math.min(elapsed/duration,1);const easeProgress=1-Math.pow(1-progress,3);const current=Math.floor(start+(end-start)*easeProgress);element.textContent=this.formatNumber(current);if(progress<1){requestAnimationFrame(animate);}else{element.textContent=formattedEnd||this.formatNumber(end);}};requestAnimationFrame(animate);}
formatNumber(num){if(num>=1000000){return(num/1000000).toFixed(1)+"M";}else if(num>=1000){return(num/1000).toFixed(1)+"K";}
return num.toString();}
setFallbackValues(){if(this.starCountEl)this.starCountEl.textContent="-";if(this.cloneCountEl)this.cloneCountEl.textContent="-";}}
class FAQ{constructor(){this.faqItems=document.querySelectorAll(".faq-item");this.init();}
init(){this.faqItems.forEach((item)=>{item.classList.add("active");const question=item.querySelector(".faq-question");question.addEventListener("click",()=>this.toggleItem(item));});}
toggleItem(item){item.classList.toggle("active");}}
class CopyButtons{constructor(){this.copyBtns=document.querySelectorAll(".copy-btn");this.init();}
init(){this.copyBtns.forEach((btn)=>{btn.addEventListener("click",()=>this.copyToClipboard(btn));});}
async copyToClipboard(btn){const text=btn.getAttribute("data-clipboard");try{await navigator.clipboard.writeText(text);this.showCopySuccess(btn);}catch(error){console.error("Failed to copy:",error);this.fallbackCopy(text,btn);}}
fallbackCopy(text,btn){const textarea=document.createElement("textarea");textarea.value=text;textarea.style.position="fixed";textarea.style.opacity="0";document.body.appendChild(textarea);textarea.select();try{document.execCommand("copy");this.showCopySuccess(btn);}catch(error){console.error("Fallback copy failed:",error);}
document.body.removeChild(textarea);}
showCopySuccess(btn){const originalHTML=btn.innerHTML;btn.classList.add("copied");btn.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>';setTimeout(()=>{btn.classList.remove("copied");btn.innerHTML=originalHTML;},2000);}}
class ScrollReveal{constructor(){this.revealElements=document.querySelectorAll(".scroll-reveal");this.init();}
init(){const elementsToReveal=[".feature-card",".step",".timeline-item",".faq-item",];elementsToReveal.forEach((selector)=>{document.querySelectorAll(selector).forEach((el)=>{el.classList.add("scroll-reveal");});});this.revealElements=document.querySelectorAll(".scroll-reveal");this.checkVisibility();let ticking=false;window.addEventListener("scroll",()=>{if(!ticking){window.requestAnimationFrame(()=>{this.checkVisibility();ticking=false;});ticking=true;}});}
checkVisibility(){const windowHeight=window.innerHeight;this.revealElements.forEach((el)=>{const elementTop=el.getBoundingClientRect().top;const elementVisible=150;if(elementTop<windowHeight-elementVisible){el.classList.add("active");}});}}
class DownloadTracker{constructor(){this.downloadBtns=document.querySelectorAll(".download-btn");this.init();}
init(){this.downloadBtns.forEach((btn)=>{btn.addEventListener("click",(e)=>{this.trackDownload(btn.href);});});}
trackDownload(url){console.log("Download initiated:",url);if(typeof gtag!=="undefined"){gtag("event","download",{event_category:"engagement",event_label:url,});}}}
class PerformanceMonitor{constructor(){this.init();}
init(){window.addEventListener("load",()=>{if("performance"in window){const perfData=window.performance.timing;const pageLoadTime=perfData.loadEventEnd-perfData.navigationStart;console.log(`Page loaded in ${pageLoadTime}ms`);}});}}
class ThemeManager{constructor(){this.currentTheme=localStorage.getItem("theme")||"light";this.init();}
init(){document.documentElement.setAttribute("data-theme",this.currentTheme);}
toggleTheme(){this.currentTheme=this.currentTheme==="light"?"dark":"light";document.documentElement.setAttribute("data-theme",this.currentTheme);localStorage.setItem("theme",this.currentTheme);}}
class LoadingManager{constructor(){this.init();}
init(){window.addEventListener("load",()=>{document.body.classList.add("loaded");});}}
class Analytics{static trackEvent(category,action,label){if(typeof gtag!=="undefined"){gtag("event",action,{event_category:category,event_label:label,});}}
static trackPageView(path){if(typeof gtag!=="undefined"){gtag("config","GA_MEASUREMENT_ID",{page_path:path,});}}}
class ErrorHandler{constructor(){this.init();}
init(){window.addEventListener("error",(event)=>{console.error("Global error:",event.error);});window.addEventListener("unhandledrejection",(event)=>{console.error("Unhandled promise rejection:",event.reason);});}}
const Utils={debounce(func,wait){let timeout;return function executedFunction(...args){const later=()=>{clearTimeout(timeout);func(...args);};clearTimeout(timeout);timeout=setTimeout(later,wait);};},throttle(func,limit){let inThrottle;return function(...args){if(!inThrottle){func.apply(this,args);inThrottle=true;setTimeout(()=>(inThrottle=false),limit);}};},isInViewport(element){const rect=element.getBoundingClientRect();return(rect.top>=0&&rect.left>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&rect.right<=(window.innerWidth||document.documentElement.clientWidth));},getScrollPercentage(){const scrollTop=window.pageYOffset||document.documentElement.scrollTop;const scrollHeight=document.documentElement.scrollHeight-
document.documentElement.clientHeight;return(scrollTop/scrollHeight)*100;},};class LanguageSelector{constructor(){this.langBtn=document.querySelector(".lang-btn");this.langDropdown=document.querySelector(".lang-dropdown");this.currentLang=this.detectLanguage();this.init();}
init(){this.applyStoredLanguage();if(this.langDropdown){const langLinks=this.langDropdown.querySelectorAll("a");langLinks.forEach((link)=>{link.addEventListener("click",(e)=>{const href=link.getAttribute("href");const lang=this.getLangFromHref(href);if(lang){localStorage.setItem("preferredLanguage",lang);}});});}}
detectLanguage(){const path=window.location.pathname;const match=path.match(/index\.([a-z]{2})\.html/);if(match){return match[1];}
return"en";}
getLangFromHref(href){const match=href.match(/index\.([a-z]{2})\.html/);if(match){return match[1];}
if(href==="index.html"){return"en";}
return null;}
applyStoredLanguage(){if(this.isBot()){return;}
const browserLang=navigator.language||navigator.userLanguage;const browserLangCode=browserLang.split("-")[0];if(this.isFirstVisit()){const supportedLangs=["en","it","es","fr","de","ru","zh"];if(supportedLangs.includes(browserLangCode)&&browserLangCode!==this.currentLang){localStorage.setItem("preferredLanguage",browserLangCode);localStorage.setItem("languageDetected","true");this.redirectToLanguage(browserLangCode);}else{localStorage.setItem("languageDetected","true");localStorage.setItem("preferredLanguage",this.currentLang);}}else{localStorage.setItem("preferredLanguage",this.currentLang);}}
redirectToLanguage(lang){const targetPage=lang==="en"?"index.html":`index.${lang}.html`;if(window.location.pathname.split("/").pop()!==targetPage){window.location.href=targetPage;}}
isFirstVisit(){return!localStorage.getItem("languageDetected");}
isBot(){const botPattern="(googlebot\/|bot|crawler|spider|robot|crawling)";const re=new RegExp(botPattern,"i");return re.test(navigator.userAgent);}}
class App{constructor(){this.init();}
init(){if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",()=>this.initializeComponents(),);}else{this.initializeComponents();}}
initializeComponents(){console.log("Initializing TickZero Landing Page...");try{new Navigation();new FAQ();new CopyButtons();new ScrollReveal();new DownloadTracker();new PerformanceMonitor();new ThemeManager();new LoadingManager();new ErrorHandler();new LanguageSelector();new GitHubStats();console.log("✅ All components initialized successfully");}catch(error){console.error("Error initializing components:",error);}}}
new App();if(typeof module!=="undefined"&&module.exports){module.exports={App,Utils,Analytics};}
>>>>>>> Stashed changes
