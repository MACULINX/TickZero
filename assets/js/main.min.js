"use strict";const CONFIG={githubRepo:"MACULINX/TickZero",githubApiUrl:"https://api.github.com/repos/MACULINX/TickZero"};class Navigation{constructor(){this.navbar=document.querySelector(".navbar"),this.navLinks=document.querySelector(".nav-links"),this.mobileToggle=document.querySelector(".mobile-menu-toggle"),this.init()}init(){window.addEventListener("scroll",(()=>this.handleScroll())),this.mobileToggle&&this.mobileToggle.addEventListener("click",(()=>this.toggleMobileMenu())),this.navLinks.querySelectorAll("a").forEach((t=>{t.addEventListener("click",(()=>{window.innerWidth<=768&&this.closeMobileMenu()}))})),document.querySelectorAll('a[href^="#"]').forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("href");if("#"!==n&&""!==n){e.preventDefault();const t=document.querySelector(n);if(t){const e=70,n=t.offsetTop-e;window.scrollTo({top:n,behavior:"smooth"})}}}))}))}handleScroll(){window.scrollY>50?this.navbar.classList.add("scrolled"):this.navbar.classList.remove("scrolled")}toggleMobileMenu(){this.navLinks.classList.toggle("active"),this.mobileToggle.classList.toggle("active")}closeMobileMenu(){this.navLinks.classList.remove("active"),this.mobileToggle.classList.remove("active")}}class GitHubStats{constructor(){this.cloneCountEl=document.getElementById("clone-count")||document.getElementById("download-count"),this.starCountEl=document.getElementById("star-count"),this.init()}async init(){try{await this.fetchStats()}catch(t){console.error("Error fetching stats:",t),this.setFallbackValues()}}async fetchStats(){try{const t=await fetch(`assets/data/stats.json?t=${(new Date).getTime()}`);if(!t.ok)throw new Error("Failed to fetch stats data");const e=await t.json();if("number"!=typeof e.clones||"number"!=typeof e.stars)throw new Error("Invalid stats data format");this.starCountEl&&this.updateStat(this.starCountEl,e.stars),this.cloneCountEl&&this.updateStat(this.cloneCountEl,e.clones)}catch(t){console.error("Error in fetchStats:",t),this.setFallbackValues()}}updateStat(t,e){if(!t)return;const n=this.formatNumber(e);this.animateNumber(t,0,e,1500,n)}animateNumber(t,e,n,o,i){const a=performance.now(),r=s=>{const l=s-a,c=Math.min(l/o,1),d=1-Math.pow(1-c,3),u=Math.floor(e+(n-e)*d);t.textContent=this.formatNumber(u),c<1?requestAnimationFrame(r):t.textContent=i||this.formatNumber(n)};requestAnimationFrame(r)}formatNumber(t){return t>=1e6?(t/1e6).toFixed(1)+"M":t>=1e3?(t/1e3).toFixed(1)+"K":t.toString()}setFallbackValues(){this.starCountEl&&(this.starCountEl.textContent="-"),this.cloneCountEl&&(this.cloneCountEl.textContent="-")}}class FAQ{constructor(){this.faqItems=document.querySelectorAll(".faq-item"),this.init()}init(){this.faqItems.forEach((t=>{t.classList.add("active");t.querySelector(".faq-question").addEventListener("click",(()=>this.toggleItem(t)))}))}toggleItem(t){t.classList.toggle("active")}}class CopyButtons{constructor(){this.copyBtns=document.querySelectorAll(".copy-btn"),this.init()}init(){this.copyBtns.forEach((t=>{t.addEventListener("click",(()=>this.copyToClipboard(t)))}))}async copyToClipboard(t){const e=t.getAttribute("data-clipboard");try{await navigator.clipboard.writeText(e),this.showCopySuccess(t)}catch(n){console.error("Failed to copy:",n),this.fallbackCopy(e,t)}}fallbackCopy(t,e){const n=document.createElement("textarea");n.value=t,n.style.position="fixed",n.style.opacity="0",document.body.appendChild(n),n.select();try{document.execCommand("copy"),this.showCopySuccess(e)}catch(t){console.error("Fallback copy failed:",t)}document.body.removeChild(n)}showCopySuccess(t){const e=t.innerHTML;t.classList.add("copied"),t.innerHTML='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>',setTimeout((()=>{t.classList.remove("copied"),t.innerHTML=e}),2e3)}}class ScrollReveal{constructor(){this.revealElements=document.querySelectorAll(".scroll-reveal"),this.init()}init(){[".feature-card",".step",".timeline-item",".faq-item"].forEach((t=>{document.querySelectorAll(t).forEach((t=>{t.classList.add("scroll-reveal")}))})),this.revealElements=document.querySelectorAll(".scroll-reveal"),this.checkVisibility();let t=!1;window.addEventListener("scroll",(()=>{t||(window.requestAnimationFrame((()=>{this.checkVisibility(),t=!1})),t=!0)}))}checkVisibility(){const t=window.innerHeight;this.revealElements.forEach((e=>{e.getBoundingClientRect().top<t-150&&e.classList.add("active")}))}}class DownloadTracker{constructor(){this.downloadBtns=document.querySelectorAll(".download-btn"),this.init()}init(){this.downloadBtns.forEach((t=>{t.addEventListener("click",(e=>{this.trackDownload(t.href)}))}))}trackDownload(t){console.log("Download initiated:",t),"undefined"!=typeof gtag&&gtag("event","download",{event_category:"engagement",event_label:t})}}class PerformanceMonitor{constructor(){this.init()}init(){window.addEventListener("load",(()=>{if("performance"in window){const t=window.performance.timing,e=t.loadEventEnd-t.navigationStart;console.log(`Page loaded in ${e}ms`)}}))}}class ThemeManager{constructor(){this.currentTheme=localStorage.getItem("theme")||"light",this.init()}init(){document.documentElement.setAttribute("data-theme",this.currentTheme)}toggleTheme(){this.currentTheme="light"===this.currentTheme?"dark":"light",document.documentElement.setAttribute("data-theme",this.currentTheme),localStorage.setItem("theme",this.currentTheme)}}class LoadingManager{constructor(){this.init()}init(){window.addEventListener("load",(()=>{document.body.classList.add("loaded")}))}}class Analytics{static trackEvent(t,e,n){"undefined"!=typeof gtag&&gtag("event",e,{event_category:t,event_label:n})}static trackPageView(t){"undefined"!=typeof gtag&&gtag("config","GA_MEASUREMENT_ID",{page_path:t})}}class ErrorHandler{constructor(){this.init()}init(){window.addEventListener("error",(t=>{console.error("Global error:",t.error)})),window.addEventListener("unhandledrejection",(t=>{console.error("Unhandled promise rejection:",t.reason)}))}}const Utils={debounce(t,e){let n;return function(...o){clearTimeout(n),n=setTimeout((()=>{clearTimeout(n),t(...o)}),e)}},throttle(t,e){let n;return function(...o){n||(t.apply(this,o),n=!0,setTimeout((()=>n=!1),e))}},isInViewport(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)},getScrollPercentage:()=>(window.pageYOffset||document.documentElement.scrollTop)/(document.documentElement.scrollHeight-document.documentElement.clientHeight)*100};class LanguageSelector{constructor(){this.langBtn=document.querySelector(".lang-btn"),this.langDropdown=document.querySelector(".lang-dropdown"),this.currentLang=this.detectLanguage(),this.init()}init(){if(this.applyStoredLanguage(),this.langDropdown){this.langDropdown.querySelectorAll("a").forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("href"),o=this.getLangFromHref(n);o&&localStorage.setItem("preferredLanguage",o)}))}))}}detectLanguage(){const t=window.location.pathname.match(/index\.([a-z]{2})\.html/);return t?t[1]:"en"}getLangFromHref(t){const e=t.match(/index\.([a-z]{2})\.html/);return e?e[1]:"index.html"===t?"en":null}applyStoredLanguage(){if(this.isBot())return;const t=(navigator.language||navigator.userLanguage).split("-")[0];if(this.isFirstVisit()){["en","it","es","fr","de","ru","zh"].includes(t)&&t!==this.currentLang?(localStorage.setItem("preferredLanguage",t),localStorage.setItem("languageDetected","true"),this.redirectToLanguage(t)):(localStorage.setItem("languageDetected","true"),localStorage.setItem("preferredLanguage",this.currentLang))}else localStorage.setItem("preferredLanguage",this.currentLang)}redirectToLanguage(t){const e="en"===t?"index.html":`index.${t}.html`;window.location.pathname.split("/").pop()!==e&&(window.location.href=e)}isFirstVisit(){return!localStorage.getItem("languageDetected")}isBot(){return new RegExp("(googlebot/|bot|crawler|spider|robot|crawling)","i").test(navigator.userAgent)}}class App{constructor(){this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>this.initializeComponents())):this.initializeComponents()}initializeComponents(){console.log("Initializing TickZero Landing Page...");try{new Navigation,new FAQ,new CopyButtons,new ScrollReveal,new DownloadTracker,new PerformanceMonitor,new ThemeManager,new LoadingManager,new ErrorHandler,new LanguageSelector,new GitHubStats,console.log("âœ… All components initialized successfully")}catch(t){console.error("Error initializing components:",t)}}}new App,"undefined"!=typeof module&&module.exports&&(module.exports={App:App,Utils:Utils,Analytics:Analytics});
